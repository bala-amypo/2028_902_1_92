

SERVICE FOLDER


AuthService.java


package com.example.demo.service;

import com.example.demo.model.User;

public interface AuthService {

User register(User user);

String login(String email, String rawPassword);
}


CrimeReportService.java



demoAoneService.java


PatternDetectionService.java


UserService.java




ServiceImplemnt

AnalysisLogServiceImpl.java





AuthServiceImpl.java


package com.example.demo.service.Implement;

import com.example.demo.model.User;
import com.example.demo.repository.UserRepository;
import com.example.demo.service.AuthService;
import com.example.demo.service.UserService;
import org.springframework.stereotype.Service;

@Service
public class AuthServiceImpl implements AuthService, UserService {

private final UserRepository userRepository;

public AuthServiceImpl(UserRepository userRepository) {
this.userRepository = userRepository;
}

@Override
public User register(User user) {
// store raw password directly (no encoding)
return userRepository.save(user);
}

@Override
public String login(String email, String rawPassword) {
User user = findByEmail(email);
if (!rawPassword.equals(user.getPassword())) {
throw new RuntimeException("Invalid credentials");
}
// simple placeholder token / message
return "LOGIN_SUCCESS_FOR_USER_" + user.getId();
}

@Override
public User findByEmail(String email) {
return userRepository.findByEmail(email)
.orElseThrow(() -> new RuntimeException("User not found"));
}
}



CrimeReportServiceImpl.java


demoZoneServiceImpl.java



PatternDetectionServiceImpl.java




REPOSITORY FOLDEER


AnalysisLogRepository.java


CrimeReportRepository.java



demoZoneRepository.java





PatternDetectionResultRepository.java


UserRepository.java


EXCEPTION FOLDER



ResourceNotFoundException.java
